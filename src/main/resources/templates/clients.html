<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>

  <title>Clients</title>
  <!-- Include Bootstrap CSS -->
  <link th:href="@{/webjars/bootstrap/5.3.0/css/bootstrap.min.css}" rel="stylesheet">

  <script th:src="@{/webjars/jquery/3.6.4/jquery.min.js}"></script>
  <script th:src="@{/webjars/bootstrap/5.3.0/js/bootstrap.min.js}"></script>
  <th:block th:include="header :: header"></th:block>
</head>
<body>
<div class="container mt-4">
  <h1 class="mb-3">Clients List</h1>
  <a href="/clients/add" class="btn btn-primary mb-3">Add New Client</a>

  <!-- Responsive Table Wrapper -->
  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead class="thead-dark">
      <tr>
        <th>ID</th>
        <th>First Name</th>
        <th>Second Name</th>
        <th>Third Name</th>
        <th>Last Name</th>
        <th>Phone Number</th>
        <th>Actions</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="client : ${clientsPage.content}">
        <td th:text="${client.id}"></td>
        <td th:text="${client.firstName}"></td>
        <td th:text="${client.secondName}"></td>
        <td th:text="${client.thirdName}"></td>
        <td th:text="${client.lastName}"></td>
        <td th:text="${client.phoneNumber}"></td>
        <td>
          <a th:href="@{/clients/view(id=${client.id})}" class="btn btn-sm btn-info m-1">View</a>
          <a th:href="@{/clients/edit(id=${client.id})}" class="btn btn-sm btn-warning m-1">Edit</a>
          <a th:href="@{/clients/delete(id=${client.id})}" onclick="return confirm('Are you sure you want to delete this client?');" class="btn btn-sm btn-danger m-1">Delete</a>
        </td>
      </tr>
      </tbody>
    </table>
  </div>

  <!-- Pagination Controls -->
  <div class="d-flex justify-content-between align-items-center mt-3">
    <span th:if="${clientsPage.hasPrevious()}">
      <a th:href="@{/clients(page=${clientsPage.number - 1}, size=${clientsPage.size})}" class="btn btn-secondary">Previous</a>
    </span>
    <span>
      Page <span th:text="${clientsPage.number + 1}">1</span> of <span th:text="${clientsPage.totalPages}">1</span>
    </span>
    <span th:if="${clientsPage.hasNext()}">
      <a th:href="@{/clients(page=${clientsPage.number + 1}, size=${clientsPage.size})}" class="btn btn-secondary">Next</a>
    </span>
  </div>
</div>
</body>
</html>
